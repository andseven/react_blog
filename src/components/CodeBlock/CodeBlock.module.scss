/* src/components/CodeBlock/CodeBlock.module.scss */

.codeBlockContainer {
    position: relative;
    margin: 1.5em 0;
    border-radius: 8px; // 边框圆角统一在容器上设置
    overflow: hidden; // 确保内部滚动条和圆角一起生效
    font-size: 0.9em; // 将字体大小应用在容器上

    // 重点：使用 :global 选择器直接针对 SyntaxHighlighter 内部生成的 <pre> 标签
    // 这比直接写 .codeBlockContainer pre 更具穿透性
    :global(pre) {
        // 强制保留空白和换行符，确保代码按原样显示
        white-space: pre !important; 
        
        // 避免长代码行自动换行，当代码行太长时出现水平滚动条
        word-wrap: normal !important; 
        
        // 当代码行太长时，出现水平滚动条
        overflow-x: auto !important; 
        
        // 继承容器的字体大小，如果需要
        font-size: inherit !important;
        
        // 确保 margin, padding 等 Ant Design 默认样式不干预
        margin: 0 !important;
        padding: 1em !important; // 恢复 SyntaxHighlighter 默认的内边距，或者您自定义
        line-height: 1.5 !important; // 恢复行高
    }

    // 针对 SyntaxHighlighter 内部生成的 <code> 标签
    :global(code) {
        // 如果您的代码行号也显示在一行，可能是这里的 word-break 影响
        word-break: normal !important; 
    }
}

.copyButton {
    position: absolute;
    top: 12px;
    right: 12px;
    z-index: 1;
    opacity: 0.5;
    transition: opacity 0.2s ease-in-out;

    &:hover {
        opacity: 1;
    }
}